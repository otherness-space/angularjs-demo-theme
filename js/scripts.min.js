var app=angular.module("app",["ngRoute","ngSanitize","slick"]);
app.config(["$routeProvider","$locationProvider","$httpProvider",function(b,a,c){a.html5Mode(!0);b.when("/",{templateUrl:myLocalized.partials+"main.html",controller:"Main"}).when("/demo",{templateUrl:myLocalized.partials+"demo.html",controller:"Main"}).when("/:slug",{templateUrl:myLocalized.partials+"content.html",controller:"Content"}).when("/category/:slug/",{templateUrl:myLocalized.partials+"main.html",controller:"Category"}).when("/category/:slug/page/:page",{templateUrl:myLocalized.partials+
"main.html",controller:"Category"}).when("/page/:page",{templateUrl:myLocalized.partials+"main.html",controller:"Paged"}).otherwise({templateUrl:myLocalized.partials+"404.html",controller:"404"});c.interceptors.push([function(){return{request:function(b){b.headers=b.headers||{};b.headers["X-WP-Nonce"]=myLocalized.nonce;return b}}}])}]);app.controller("Main",["$scope","WPService",function(b,a){a.getAllCategories();a.getPosts(1);b.data=a}]);
app.controller("Content",["$scope","$routeParams","$http",function(b,a,c){c.get("wp-json/posts/?filter[name]="+a.slug).success(function(a){b.post=a[0];document.querySelector("title").innerHTML=a.title.rendered+" | AngularJS Demo Theme"}).error(function(a,c){404===c&&(b.is404=!0,document.querySelector("title").innerHTML="Page not found | AngularJS Demo Theme",b.errorMessage="Error: "+a[0].message)});c.get("wp-json/wp/v2/media?filter[post_parent]="+a.ID+"&filter[posts_per_page]=-1").success(function(a){1<
a.length&&(b.media=a)})}]);app.controller("Category",["$scope","$routeParams","$http","WPService",function(b,a,c,d){d.getAllCategories();c.get("wp-json/wp/v2/categories/?search="+a.slug).success(function(c){c?(b.current_category_id=c[0].id,d.getPostsInCategory(c[0],a.page)):(document.querySelector("title").innerHTML="Category not found | AngularJS Demo Theme",b.data.pageTitle="Category not found")});b.data=d}]);
app.controller("Paged",["$scope","$routeParams","WPService",function(b,a,c){c.getAllCategories();c.getPosts(a.page);b.data=c}]);app.controller("404",function(){document.querySelector("title").innerHTML="Page not found | AngularJS Demo Theme"});app.directive("searchForm",function(){return{restrict:"EA",template:'Search Keyword: <input type="text" name="s" ng-model="filter.s" ng-change="search()">',controller:["$scope","WPService",function(b,a){b.filter={s:""};b.search=function(){a.getSearchResults(b.filter.s)}}]}});
app.directive("postsNavLink",function(){return{restrict:"EA",templateUrl:myLocalized.partials+"posts-nav-link.html",controller:["$scope","$element","$routeParams",function(b,a,c){var d=c.page?parseInt(c.page):1;c=c.category?"category/"+c.category+"/page/":"page/";b.postsNavLink={prevLink:c+(d-1),nextLink:c+(d+1),sep:a.attr("sep")?a.attr("sep"):"|",prevLabel:a.attr("prev-label")?a.attr("prev-label"):"Previous Page",nextLabel:a.attr("next-label")?a.attr("next-label"):"Next Page"}}]}});
app.directive("sayHello",function(){return{restrict:"EA",templateUrl:myLocalized.partials+"say-hello.html",controller:["WPService",function(b){b.getCurrentUser()}]}});
